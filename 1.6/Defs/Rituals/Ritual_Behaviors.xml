<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <RitualBehaviorDef Abstract="True" Name="VGE_GravshipLaunchBehavior">
    <durationTicks>-1</durationTicks>
    <workerClass>RitualBehaviorWorker_GravshipLaunch</workerClass>
    <spectatorsLabel>Crew</spectatorsLabel>
    <spectatorGerund>crew</spectatorGerund>
    <spectatorsIgnoreBleeding>true</spectatorsIgnoreBleeding>
    <displayCompletedMessage>false</displayCompletedMessage>
  </RitualBehaviorDef>

  <RitualBehaviorDef ParentName="VGE_GravshipLaunchBehavior">
    <defName>VGE_GravjumperLaunch</defName>
    <roles>
      <li Class="RitualRoleColonist">
        <id>pilot</id>
        <label>pilot</label>
        <maxCount>1</maxCount>
        <required>True</required>
        <usedSkill>Intellectual</usedSkill>
        <usedStat>PilotingAbility</usedStat>
        <defaultForSelectedColonist>true</defaultForSelectedColonist>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
      <li Class="RitualRoleColonist">
        <id>copilot</id>
        <label>copilot</label>
        <maxCount>1</maxCount>
        <usedSkill>Intellectual</usedSkill>
        <usedStat>PilotingAbility</usedStat>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
    </roles>
    <stages>
      <li>
        <defaultDuty>GoToValidSubstructure</defaultDuty>
        <showProgressBar>false</showProgressBar>
        <endTriggers>
          <li Class="StageEndTrigger_RoleArrivedAndSpectatorsOnSubstructure">
            <roleIds>
              <li>pilot</li>
              <li>copilot</li>
              <li>gravtechResearcher</li>
              <li>gravtechEngineer</li>
            </roleIds>
          </li>
        </endTriggers>
        <roleBehaviors>
          <li>
            <roleId>pilot</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="RitualPosition_OnInteractionCell">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
          <li>
            <roleId>copilot</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="RitualPosition_Copilot">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
        </roleBehaviors>
      </li>
    </stages>
  </RitualBehaviorDef>

  <RitualBehaviorDef ParentName="VGE_GravshipLaunchBehavior">
    <defName>VGE_GravhulkLaunch</defName>
    <roles>
      <li Class="RitualRoleColonist">
        <id>pilot</id>
        <label>pilot</label>
        <maxCount>1</maxCount>
        <required>True</required>
        <usedSkill>Intellectual</usedSkill>
        <usedStat>PilotingAbility</usedStat>
        <defaultForSelectedColonist>true</defaultForSelectedColonist>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
      <li Class="RitualRoleColonist">
        <id>copilot</id>
        <label>copilot</label>
        <maxCount>1</maxCount>
        <usedSkill>Intellectual</usedSkill>
        <usedStat>PilotingAbility</usedStat>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
      <li Class="RitualRoleColonist">
        <id>gravtechResearcher</id>
        <label>gravtech researcher</label>
        <maxCount>1</maxCount>
        <required>false</required>
        <usedSkill>Intellectual</usedSkill>
        <usedStat>VGE_GravshipResearch</usedStat>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
      <li Class="RitualRoleColonist">
        <id>gravtechEngineer</id>
        <label>gravtech engineer</label>
        <maxCount>1</maxCount>
        <required>false</required>
        <usedSkill>Construction</usedSkill>
        <usedStat>VGE_GravshipMaintenance</usedStat>
        <allowChild>false</allowChild>
        <blocksSocialInteraction>true</blocksSocialInteraction>
        <countsAsParticipant>false</countsAsParticipant>
      </li>
    </roles>
    <stages>
      <li>
        <defaultDuty>GoToValidSubstructure</defaultDuty>
        <showProgressBar>false</showProgressBar>
        <endTriggers>
          <li Class="StageEndTrigger_RoleArrivedAndSpectatorsOnSubstructure">
            <roleIds>
              <li>pilot</li>
              <li>copilot</li>
              <li>gravtechResearcher</li>
              <li>gravtechEngineer</li>
            </roleIds>
          </li>
        </endTriggers>
        <roleBehaviors>
          <li>
            <roleId>pilot</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="RitualPosition_OnInteractionCell">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
          <li>
            <roleId>copilot</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="RitualPosition_Copilot">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
          <li>
            <roleId>gravtechResearcher</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="VanillaGravshipExpanded.RitualPosition_GravtechConsole">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
          <li>
            <roleId>gravtechEngineer</roleId>
            <dutyDef>ArriveToCell</dutyDef>
            <customPositions>
              <li Class="VanillaGravshipExpanded.RitualPosition_EngineeringConsole">
                <faceThing>true</faceThing>
              </li>
            </customPositions>
          </li>
        </roleBehaviors>
      </li>
    </stages>
  </RitualBehaviorDef>

</Defs>