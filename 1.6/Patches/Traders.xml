<Patch>

  <!-- Add oxygen and astrofuel to every orbital trader stock. -->
  <Operation Class="PatchOperationAdd">
    <!-- Use translate() to change text to lowercase (only change relevant characters). -->
    <xpath>Defs/TraderKindDef[translate(orbital, 'TRUE', 'true')="true"]/stockGenerators</xpath>
    <value>
      <!-- Oxygen canisters can only be purchased (item's tradeability) -->
      <li Class="StockGenerator_SingleDef">
        <thingDef>VGSE_OxygenCanister</thingDef>
        <countRange>100~300</countRange>
      </li>
      <li Class="StockGenerator_SingleDef">
        <thingDef>VGSE_Astrofuel</thingDef>
        <countRange>250~500</countRange>
      </li>
    </value>
  </Operation>

  <!-- Make all traders buying/selling chemfuel also purchase astrofuel. -->
  <Operation Class="PatchOperationAdd">
    <xpath>Defs/TraderKindDef/stockGenerators[li[(@Class="StockGenerator_SingleDef" or @Class="StockGenerator_BuySingleDef") and thingDef="Chemfuel"]]</xpath>
    <value>
      <li Class="StockGenerator_BuySingleDef"><thingDef>VGSE_Astrofuel</thingDef></li>
    </value>
  </Operation>

</Patch>